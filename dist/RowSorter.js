!function(a,b){"use strict";"function"==typeof define&&define.amd?define("RowSorter",b):"object"==typeof exports?module.exports=b():a.RowSorter=b()}(this,function(){"use strict";function a(a,f){function m(b){var e=b||window.event;if(u=x.rows,u.length<2)return!0;var f,h;if(e.touches){if(0===e.touches.length)return!0;var i=e.touches[0];if(f=document.elementFromPoint(i.clientX,i.clientY),h=i.clientY,!f)return!0}else f=e.target||e.srcElement,h=e.clientY;if(w.handler){var m=j(a,w.handler);if(l(f,m)===!1)return!0}y=k(f,"tr");var o=c(x,y);return null===y||l(y,u)===!1||w.stickTopRows>0&&o<w.stickTopRows||w.stickBottomRows>0&&o>=u.length-w.stickBottomRows?(y=null,!0):(w.tableClass&&g(a,w.tableClass),w.dragClass&&g(y,w.dragClass),z=o,w.onDragStart&&w.onDragStart(x,y,z),v=h,d(a,"mousemove",r),d(document,"mouseup",s),n&&(d(document,"touchend",s),d(a,"touchmove",r)),e.preventDefault?e.preventDefault():e.returnValue=!1,!1)}function r(a){var d=a||window.event;if(!y)return!0;var e,f;if(d.touches){if(0===d.touches.length)return!0;var g=d.touches[0];if(e=document.elementFromPoint(g.clientX,g.clientY),f=g.clientY,!e)return!0}else e=d.target||d.srcElement,f=d.clientY;p=!0;var h=f>v?1:v>f?-1:0;if(0!==h){var i=k(e,"tr");if(i&&i!==y&&l(i,u)){var j=!0;if(w.stickTopRows>0||w.stickBottomRows>0){var m=c(x,i);(w.stickTopRows>0&&m<w.stickTopRows||w.stickBottomRows>0&&m>=u.length-w.stickBottomRows)&&(j=!1)}j&&b(y,i,h),v=f}}}function s(b){if(p=!1,!y)return!0;w.tableClass&&h(a,w.tableClass),w.dragClass&&h(y,w.dragClass);var d=c(x,y);w.onDrop&&d!==z&&w.onDrop(x,y,d,z),y=null,e(a,"mousemove",r),e(document,"mouseup",s),n&&(e(a,"touchmove",r),e(document,"touchend",s))}var t;if(f===!1)return void(a[o]&&("object"==typeof a[o]&&(t=a[o],t.events&&"object"==typeof t.events&&(t.events.mousedown&&e(a,"mousedown",t.events.mousedown),t.events.touchstart&&e(a,"touchstart",t.events.touchstart))),delete a[o]));if(!a[o]){t={events:{}},a[o]=t;var u,v,w=i(q,f),x=a,y=null,z=0;if(w.tbody){var A=a.getElementsByTagName("TBODY");A.length>0&&(x=A[0])}d(a,"mousedown",m),t.events.mousedown=m,n&&(d(a,"touchstart",m),t.events.touchstart=m),"function"!=typeof w.onDragStart&&(w.onDragStart=null),"function"!=typeof w.onDrop&&(w.onDrop=null),("number"!=typeof w.stickTopRows||w.stickTopRows<0)&&(w.stickTopRows=0),("number"!=typeof w.stickBottomRows||w.stickBottomRows<0)&&(w.stickBottomRows=0)}}function b(a,b,c){var d=a.parentNode;1===c?b.nextSibling?d.insertBefore(a,b.nextSibling):d.appendChild(a):-1===c&&d.insertBefore(a,b)}function c(a,b){for(var c=a.rows,d=c.length,e=0;d>e;e++)if(b===c[e])return e;return-1}function d(a,b,c){a.addEventListener?a.addEventListener(b,c,!0):a.attachEvent&&a.attachEvent("on"+b,c)}function e(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!0):a.detachEvent&&a.detachEvent("on"+b,c)}function f(a,b){if(b=b.trim(),""===b)return!1;if(-1!==b.indexOf(" ")){for(var c=b.split(" "),d=0,e=c.length;e>d;d++)if(0==f(a,c[d]))return!1;return!0}return a.classList?!!a.classList.contains(b):!!a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}function g(a,b){if(b=b.trim(),-1===b.indexOf(" "))0==f(a,b)&&(a.classList?a.classList.add(b):a.className+=" "+b);else for(var c=b.split(" "),d=0,e=c.length;e>d;d++)g(a,c[d])}function h(a,b){if(b=b.trim(),-1===b.indexOf(" ")){if(f(a,b))if(a.classList)a.classList.remove(b);else{var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ")}}else for(var d=b.split(" "),e=0,g=d.length;g>e;e++)h(a,d[e])}function i(a,b){if(m)return m.extend({},a,b);var c,d={};for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);if("[object Object]"===Object.prototype.toString.call(b))for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);return d}function j(a,b){return m?m.makeArray(m(a).find(b)):a.querySelectorAll(b)}function k(a,b){var c=0,d=100,e=a;for(b=b.toLowerCase();e.tagName&&e.tagName.toLowerCase()!==b;)if(e=e.parentNode,c++,c>d)return null;return e}function l(a,b){for(var c=0,d=b.length;d>c;c++)if(a===b[c])return!0;return!1}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var m=window.jQuery||!1,n=!!("ontouchstart"in document),o="data-rowsorter",p=!1,q={handler:null,tbody:!0,tableClass:"sorting-table",dragClass:"sorting-row",stickTopRows:0,stickBottomRows:0,onDragStart:null,onDrop:null};return"onselectstart"in document&&(document.onselectstart=function(){return p?!1:void 0}),m&&m.fn.extend({rowSorter:function(b){this.each(function(c,d){a(d,b)})}}),a});