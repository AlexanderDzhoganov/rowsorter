!function(t,n){"use strict";function e(t,e){function l(e){return p=t.find("tbody"),p=p.length>0?p:t,v=p.find("tr"),v.length<2?!0:(m=n(this).closest("tr"),0===m.length?!0:m.hasClass(h.disabledRowClass)?!0:(i=!0,b=v.index(m[0]),h.dragClass&&m.addClass(h.dragClass),h.tableDragClass&&t.addClass(h.tableDragClass),"function"==typeof h.onDragStart&&h.onDragStart(p[0],m[0],b),a?(C=parseInt(e.originalEvent.touches[0].pageY,10),o.on("touchmove",d)):(C=parseInt(e.pageY,10),v.not(m[0]).on("mousemove",c)),o.on(s,g),e.preventDefault(),!1))}function d(t){var e=t.originalEvent.touches[0],a=o[0].elementFromPoint(e.clientX,e.clientY);return a?(a=n(a).closest("tr"),void(a&&a[0]!==m[0]&&a[0].parentNode===p[0]&&f(a[0],e.pageY))):!0}function c(t){f(this,t.pageY)}function f(t,n){if("function"==typeof h.onBeforeMove){var e=p.find("tr").index(m[0]),o=n>C?e+1:e-1;if(h.onBeforeMove(o,e)===!1)return}n>C&&t.nextSibling!==m[0]?t.nextSibling?p[0].insertBefore(m[0],t.nextSibling):p[0].appendChild(m[0]):C>=n&&t.previousSibling!==m[0]&&p[0].insertBefore(m[0],t),C=n}function g(){var n;a?o.off("touchmove",d):v.off("mousemove",c),o.off(s,g),h.dragClass&&m.removeClass(h.dragClass),h.tableDragClass&&t.removeClass(h.tableDragClass),n=p.find("tr").index(m[0]),n!==b&&"function"==typeof h.onDrop&&h.onDrop(p[0],m[0],n,b),m=null,i=!1,b=0}var h=n.extend({},u,e),p=null,v=null,m=null,C=0,b=0;if(t=n(t),t.is("table")===!1)throw new Error("Specified parameter is not a table.");t.data("row-sorter-attached")!==!0&&(t.on(r,h.handler,l),t.data("row-sorter-attached",!0))}var o=n(t.document),a=!!("ontouchstart"in o[0].documentElement),r=a?"touchstart":"mousedown",s=a?"touchend":"mouseup",l=!!("onselectstart"in o[0].documentElement),i=!1,u={handler:"tbody > tr",tableDragClass:"sorting-table",disabledRowClass:"nodrag",dragClass:"sorting-row",onDragStart:null,onBeforeMove:null,onDrop:null};l&&(o[0].onselectstart=function(){return i?!1:void 0}),n.fn.extend({rowSorter:function(t){this.each(function(n,o){e(o,t)})}})}(this,this.jQuery);